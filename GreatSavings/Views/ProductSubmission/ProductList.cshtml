@model string


@{
    ViewBag.Title = "ProductList";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="~/Scripts/Services/productservices.js" type="text/javascript"></script>
<script src="~/Scripts/Controllers/productcontroller.js" type="text/javascript"></script>

<script type="text/javascript">    

 @*   bizModule.factory("productFactory", function () {
        var fac = {};
        fac.getProducts = function () { return  @Html.Raw(Model); }
        return fac;
    });*@

</script>  
@*  <ul>
        <li><a href="/#/RDeals">Deals</a></li>
        <li><a href="/#/RDirectory">Directory</a></li>
    </ul>
<div ng-view></div>*@
@using (Html.BeginForm("ProductList", "ProductSubmission", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
    <div class="pricing-table group" ng-controller="productController" ng-init="getProducts(@Html.Raw(Model))">
        <h1 class="heading">
            Pricing overview
        </h1>
        <div ng-repeat="item in products" class="price-block buy fl {{ item.name.replace(' ', '-').toLowerCase() }}">
            <h2 class="title">{{ item.name }} </h2>
            <!-- CONTENT -->
            <div class="content">
                <p class="price">
                    <sup>RM</sup>
                    <span>{{ item.price }}</span>
                </p>
                <p class="hint">{{ item.hint }}</p>
            </div>
            <!-- /CONTENT -->
            <!-- FEATURES -->
            <div class="features">
                {{item.description }}
            </div>
            <!-- /FEATURES -->
            <!-- PT-FOOTER -->
            <div class="pt-footer">
               @* <input type="button" value="Buy Now" class="btn" ng-click="addToCart(item)" />*@
                <input type="button" value="Buy Now" class="btn" ng-click="addToCart($index)" ng-hide="item.selected" />
               @* <label class="cartTick" ng-show="item.selected" ng-click="removeFromCart($index)">&nbsp</label>*@
                 <label class="cartTick" ng-show="item.selected" ng-click="removeItemFromCart($index)">&nbsp</label>
            </div>
            <!-- /PT-FOOTER -->
        </div>
        <div class="cart-wrapper">
          <span id="shopping-cart-counter">{{itemsInCart.length}}</span>
          <i id="cartimg" class="shopping-cart" style=""></i>
        </div>

        <p class="center-elmnt">
            <input type="submit" value="Continue" class="btn" ng-disabled="itemsInCart.length == 0" ng-click="subscribe()" 
                style="background-color: #5794db;color: #fff;width: 180px;">

        </p>

        @*<div class="cart">
            <h2 class="title">
                <div class="cart-ico-wrapper"><i class="shopping-cart"></i></div>
                Shopping Cart

            </h2>
     
            <ul class="cart-items">
                <li ng-repeat="item in itemsInCart" class="product"  >
                    <div class="fleft">
                        <a href="#" ng-click="removeFromCart($index)">
                            <img src="~/Images/blank.gif" />
                        </a> 
                        <div>{{item.product }}</div>
                    </div>
                    <div class="fright tag {{ item.product.replace(' ', '-').toLowerCase() }}">
	                    <a href="#">RM&nbsp{{item.price }}</a>
                    </div>
                </li>
            </ul>
            <div class="cart-total">
                <h3>Total Purchase</h3>
                <p class="price">
                    <sup>RM</sup>
                    <span class="ng-binding">{{totalPrice}}</span>
                </p>
                <p>
                    <input type="submit" value="Continue" class="btn"  ng-disabled="itemsInCart.length == 0" ng-click="subscribe()"/>
                </p>
            </div>        
        </div>*@
    </div>
    <input type="hidden" value="hidden" id ="selectedProducts" name="selectedProducts" />
}
  
