@model GreatSavings.ViewModels.MerchantViewModel

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<link href="../../Content/admin.css" rel="stylesheet" })
<link href="../../Content/bootstrap-timepicker.css" rel="stylesheet" })
<script src="../../Scripts/bootstrap-timepicker.js" type="text/javascript"></script>
<script src="~/Scripts/Business/Validation.js" type="text/javascript"></script>
<script type="text/javascript">
    function fileCheck() {
        $("#imgPath").val($("#ImageData").val());

        var fileExtension = ['jpeg', 'jpg', 'png', 'gif', 'bmp'];
        //if ($.inArray($(obj).val().split('.').pop().toLowerCase(), fileExtension) == -1) {
        //    alert("Only '.jpeg','.jpg', '.png', '.gif', '.bmp' formats are allowed.");
        //}
    }


</script>
<div class="main-container">
<h2>@ViewBag.FirstName, let's start creating your professional profile</h2>

@using (Html.BeginForm(null, null, FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    <ul class="nav nav-tabs" id="merchantDtlsTab">
        <li class="active"><a href="#form-leftSection">Company Details</a></li>
        <li><a href="#sectionMember">Member Details</a></li>
    </ul>
    
    <div class="form-horizontal form-container tab-content">
         <div id="form-leftSection" class="tab-pane fade in active">
                <div class="form-group">
                    @Html.LabelFor(ng-model="model.Merchant.CompanyName" class="control-label col-xs-2" })
                    <div class="col-xs-10">
                        <input ng-model="model.Merchant.CompanyName" class="form-control" })
                        @Html.ValidationMessageFor(ng-model="model.Merchant.CompanyName)
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(ng-model="model.Merchant.BusIndustryId, "Business Industry"" class="control-label col-xs-2" })
                    <div class="col-xs-10">
                        @Html.DropDownListFor(n => n.SelectedIndustry, Model.BusinessIndustries, "Please select an industry..."" class="form-control" })
                        @Html.ValidationMessageFor(ng-model="model.Merchant.BusIndustryId)
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(ng-model="model.Merchant.StreetName" class="control-label col-xs-2" })
                    <div class="col-xs-10">
                        <input ng-model="model.Merchant.StreetName" class="form-control" })
                        @Html.ValidationMessageFor(ng-model="model.Merchant.StreetName)
                     </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(ng-model="model.Merchant.Postcode" class="control-label col-xs-2" })
                    <div class="col-xs-10">
                        <input ng-model="model.Merchant.Postcode" class="form-control" })
                        @Html.ValidationMessageFor(ng-model="model.Merchant.Postcode)
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(ng-model="model.Merchant.State" class="control-label col-xs-2" })
                    <div class="col-xs-10">
                        @Html.DropDownListFor(n => n.SelectedState, Model.States, "Please select a state..."" class="form-control" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(ng-model="model.Merchant.Country" class="control-label col-xs-2" })
                    <div class="col-xs-10">
                        @Html.DropDownListFor(n => n.SelectedCountry, Model.Countries, "Please select a country..."" class="form-control" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(ng-model="model.Merchant.Website" class="control-label col-xs-2" })
                    <div class="col-xs-10">
                        <input ng-model="model.Merchant.Website" class="form-control" })
                        @Html.ValidationMessageFor(ng-model="model.Merchant.Website)
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-xs-2">Operation Hours:</label>
                    
                    <div class="col-xs-10">
                        <div class="input-append bootstrap-timepicker">
                            <input id="start_time" type="text" name="start_time" class="timepicker" placeholder="h:mm PM" data-default-time="false" data-minute-step="5">
                            <span class="add-on"><i class="icon-time"></i></span>
                            @Html.HiddenFor(ng-model="model.StartTime)
                        </div>
                        <label class="control-label field-label "> to </label>
                        <div class="input-append bootstrap-timepicker">
                            <input id="end_time" type="text" name="end_time" class="timepicker" placeholder="h:mm PM" data-default-time="false" data-minute-step="5">
                            <span class="add-on"><i class="icon-time"></i></span>
                            @Html.HiddenFor(ng-model="model.EndTime)
                        </div>
                        @*<div class="row">
                            
                            <div class="col-xs-3">
                                @Html.DropDownListFor(n => n.SelectedStartHour, Model.OperatingHours, "Hour"" class="form-control select-small" })
                            </div>
                            <div class="col-xs-3">
                                @Html.DropDownListFor(n => n.SelectedStartMins, Model.OperatingMinutes, "Minutes"" class="form-control select-small" })
                            </div>
                            <div class="switch-toggle well">
                                  @{
                                    foreach (var period in Model.OperatingPeriod)
                                    {
                                       
                                            @Html.RadioButtonFor(ng-model="model.SelectedStartPeriod, period.Text, new { @id=period.Text})
                                            @Html.Label( period.Text , period.Text, new { @onclick = " " })
                                       
                                    }
                                }
                                 <a class="btn btn-primary"></a>
                            </div>
                        </div>*@
                    </div>
                </div>
                @*<div class="form-group">
                    <label class="control-label col-xs-2">Start From:</label>
                    <div class="col-xs-10">
                        <div class="row">
                                <div class="col-xs-3">
                                    @Html.DropDownListFor(n => n.SelectedEndHour, Model.OperatingHours, "Hour"" class="form-control select-small" })
                                </div>
                                <div class="col-xs-3">
                                    @Html.DropDownListFor(n => n.SelectedEndMins, Model.OperatingMinutes, "Minutes"" class="form-control select-small" })
                                </div>
                                <div class="switch-toggle well">
                                      @{
                                        foreach (var period in Model.OperatingPeriod)
                                        {
                                                @Html.RadioButtonFor(ng-model="model.SelectedEndPeriod, period.Text, new { @id=period.Text})
                                                @Html.Label( period.Text , period.Text, new { @onclick = " " })
                                        }
                                    }
                                     <a class="btn btn-primary"></a>
                                </div>
                            </div>
                    </div>
                </div>*@
                <div class="form-group">
                     @Html.LabelFor(ng-model="model.Merchant.CompanyImg" class="control-label col-xs-2" })
                    <div class="col-xs-10">
                        
                        <div class="input-group">
                            <span class="input-group-btn">
                                <span class="btn btn-primary btn-file">
                                    Browse… <input type="file" name="ImageData" id="ImageData" onchange="fileCheck();"  })
                                </span>
                            </span>
                            <input id="imgPath" type="text" class="form-control" readonly="">
                        </div>

                        @Html.ValidationMessageFor(ng-model="model.Merchant.CompanyImg)
                    </div>
               
                </div>
             </div>
         <div id="sectionMember" class="tab-pane fade">
            <div class="form-group">
                @Html.LabelFor(ng-model="model.Merchant.FirstName" class="control-label col-xs-2" })
                <div class="col-xs-10">
                    <input ng-model="model.Merchant.FirstName" class="form-control" })
                    @Html.ValidationMessageFor(ng-model="model.Merchant.FirstName)
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(ng-model="model.Merchant.LastName" class="control-label col-xs-2" })
                <div class="col-xs-10">
                    <input ng-model="model.Merchant.LastName" class="form-control" })
                    @Html.ValidationMessageFor(ng-model="model.Merchant.LastName)
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(ng-model="model.Merchant.ContactNo" class="control-label col-xs-2" })
                <div class="col-xs-10">
                    <input ng-model="model.Merchant.ContactNo" class="form-control" })
                    @Html.ValidationMessageFor(ng-model="model.Merchant.ContactNo)
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(ng-model="model.Merchant.Email" class="control-label col-xs-2" })
                <div class="col-xs-10">
                    <input ng-model="model.Merchant.Email" class="form-control" })
                    @Html.ValidationMessageFor(ng-model="model.Merchant.Email)
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(ng-model="model.Merchant.Password" class="control-label col-xs-2" })
                <div class="col-xs-10">
                    @*<input ng-model="model.Merchant.Password" class="form-control" })*@
                    @Html.PasswordFor(ng-model="model.Merchant.Password" class="form-control" })
                    @Html.ValidationMessageFor(ng-model="model.Merchant.Password)
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-2">Confirm Password</label>
                
                <div class="col-xs-10">
                    <input id="confirmPwd" type="password" class="form-control" })
                    <span id="confirmPwdError" class="error-msg">The confirmed password must match with password!</span>
                </div>
            </div>     
            <p>
                <input type="submit" value="Submit" class="btn btn-large btn-primary btn-r-pos" })
            </p>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>
</div>
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
